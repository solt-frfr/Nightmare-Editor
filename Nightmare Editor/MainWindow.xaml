<Window x:Class="Nightmare_Editor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Nightmare_Editor"
        mc:Ignorable="d"
        Title="Nightmare Editor" Height="450" Width="800" Background="Black">
    <Grid Margin="5">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="3*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="8*"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid Grid.Row="2" Panel.ZIndex="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>
            <Button Click="Help_Click" Background="Transparent" BorderBrush="Transparent">
                <Image Source="/Images/help.png" RenderOptions.BitmapScalingMode="HighQuality"/>
            </Button>
            <Button Grid.Column="2" Name="WS" Click="WindowSwap" Background="Transparent" BorderBrush="Transparent">
                <Image Source="/Images/queue.png" Name="Queue" RenderOptions.BitmapScalingMode="HighQuality"/>
            </Button>
        </Grid>
        <Grid Grid.ColumnSpan="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="5*"/>
            </Grid.ColumnDefinitions>
            <Button Click="FileOpen_Click" Background="Transparent" BorderBrush="Transparent">
                <Image Source="/Images/plus.png" RenderOptions.BitmapScalingMode="HighQuality"/>
            </Button>
            <TextBox Grid.Column="1" Text="logger lol" Name="Log" TextWrapping="WrapWithOverflow" IsReadOnly="True"/>
        </Grid>
        <Grid Name="Blackout" Grid.ColumnSpan="2" Grid.RowSpan="3" Panel.ZIndex="1" Visibility="Collapsed" Background="Black" Opacity="0.25"/>
        <ScrollViewer VerticalScrollBarVisibility="Auto" Grid.Row="1">
            <Grid Grid.Row="1">
                <Grid.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Remove File"
                                  Click="RemoveFile" />
                        <MenuItem Header="Open Folder"
                                  Click="OpenFolder_Click" />
                        <MenuItem Header="Re-extract" Name="rex"
                                  Click="Again_Click" Visibility="Visible"/>
                        <MenuItem Header="Pack Queued" Name="pckall1"
                                  Click="PackAll_Click" Visibility="Visible"/>
                    </ContextMenu>
                </Grid.ContextMenu>
                <StackPanel x:Name="Files" VerticalAlignment="Top">
                    <!-- TextBox controls will be added here dynamically -->
                </StackPanel>
            </Grid>
        </ScrollViewer>
        <ScrollViewer VerticalScrollBarVisibility="Auto" Grid.Row="1" Grid.Column="1" Grid.RowSpan="2">
            <Grid Grid.Row="1">
                <Grid.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Open Folder"
                                  Click="OpenFolder2_Click" />
                        <MenuItem Header="Replace"
                                  Click="Replace2_Click" />
                        <MenuItem Header="Pack"
                                  Click="Pack2_Click" />
                        <MenuItem Header="Remove File" Name="remove2"
                                  Click="RemoveFile2" Visibility="Collapsed"/>
                        <MenuItem Header="Queue/Unqueue Pack" Name="flag2"
                                  Click="Flag2" Visibility="Collapsed"/>
                        <MenuItem Header="Pack Queued" Name="pckall2"
                                  Click="PackAll_Click" Visibility="Visible"/>
                    </ContextMenu>
                </Grid.ContextMenu>
                <StackPanel x:Name="Files2" VerticalAlignment="Top">
                    <!-- TextBox controls will be added here dynamically -->
                </StackPanel>
            </Grid>
        </ScrollViewer>
        <Grid Name="QueueWindow" Grid.RowSpan="3" Grid.Column="2" Visibility="Collapsed" Background="Black" Panel.ZIndex="1">
            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition Height="8*"/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <StackPanel Grid.Row="1" x:Name="Queued" VerticalAlignment="Top" Margin="3" Panel.ZIndex="2">
                <!-- TextBox controls will be added here dynamically -->
            </StackPanel>
            <TextBox Name="QueueBox" Grid.Row="1" IsReadOnly="True" Focusable="False" BorderBrush="#4080f0" Background="LightGoldenrodYellow" BorderThickness="3" Panel.ZIndex="1"/>
            <TextBlock FontStyle="Italic" Foreground="LightGoldenrodYellow" Margin="5" FontSize="10" VerticalAlignment="Bottom" HorizontalAlignment="Right"><Run Text="Files listed here will be packed in the order shown into the rbins"/><LineBreak/><Run Text="below it. .l2d, .pmo, and .ctt files will be packed themselves first."/></TextBlock>
            <TextBlock Text="Packing Queue" Foreground="White" FontWeight="SemiBold" Margin="5" FontSize="25" VerticalAlignment="Center"/>
            <Button Click="PackAll_Click" Foreground="White" FontWeight='Black' BorderBrush="#4080f0" FontStyle="Italic" Background="#4080f0" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Grid.Row="2">
                <TextBlock Text="Pack Queued" TextDecorations="Underline" FontSize="30"/>
            </Button>
        </Grid>
        <Grid Name="InfoWindow" Grid.RowSpan="3" Grid.Column="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="3*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid Name="FileInfo" Grid.Column="1" Grid.Row="1" Margin="5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="3*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <TextBox Name="FileName" Text="File Name" Foreground="White" FontWeight='SemiBold' BorderBrush="White" Background="#323b4a" VerticalContentAlignment="Center" Grid.ColumnSpan="2" IsReadOnly="True" Focusable="False" FocusVisualStyle="{x:Null}"/>
                <TextBox Text="Size:" Foreground="White" FontWeight='Black' BorderBrush="Gray" Background="#323b4a" VerticalContentAlignment="Center" Grid.Row="1" IsReadOnly="True" Focusable="False" FocusVisualStyle="{x:Null}"/>
                <TextBox Text="Format:" Foreground="White" FontWeight='Black' BorderBrush="Gray" Background="#323b4a" VerticalContentAlignment="Center" Grid.Row="2" IsReadOnly="True" Focusable="False" FocusVisualStyle="{x:Null}"/>
                <TextBox Name="FileSize" Text="0x0" Foreground="White" FontWeight='Black' BorderBrush="Gray" Background="#323b4a" VerticalContentAlignment="Center" HorizontalContentAlignment="Right" Grid.Row="1" Grid.Column="1" IsReadOnly="True" Focusable="False" FocusVisualStyle="{x:Null}"/>
                <TextBox Name="FileFormat" Text="idk probably etc" Foreground="White" FontWeight='Black' BorderBrush="Gray" Background="#323b4a" VerticalContentAlignment="Center" HorizontalContentAlignment="Right" Grid.Row="2" Grid.Column="1" IsReadOnly="True" Focusable="False" FocusVisualStyle="{x:Null}"/>
                <TextBox Name="FileLink" TextChanged="ScrollFileLink" Text="idk probably base texture" Foreground="LightPink" FontWeight='Thin' BorderBrush="Gray" Background="Black" VerticalContentAlignment="Center" HorizontalContentAlignment="Right" Grid.Row="3" Grid.ColumnSpan="2" IsReadOnly="True" Focusable="False" FocusVisualStyle="{x:Null}" MouseDoubleClick="Unlink_Click" TextWrapping="NoWrap"/>
                <Grid Grid.ColumnSpan="2" Grid.Row="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <Button Click="Link_Click" Foreground="Blue" FontWeight='Black' BorderBrush="Gray" FontStyle="Italic" Background="White" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Grid.Row="3">
                        <TextBlock Text="Link New Texture" TextDecorations="Underline" />
                    </Button>
                    <Button Click="Edit_Click" Foreground="Blue" FontWeight='Black' BorderBrush="Gray" FontStyle="Italic" Background="White" VerticalContentAlignment="Center" HorizontalContentAlignment="Center" Grid.Row="3" Grid.Column="1">
                        <TextBlock Text="Open In Editor" TextDecorations="Underline" />
                    </Button>
                </Grid>
            </Grid>
            <Grid Grid.ColumnSpan="3" Background="White" Margin="5">
                <Rectangle Name="TransRights" Stretch="Fill">
                    <Rectangle.Fill>
                        <DrawingBrush TileMode="Tile" Viewport="0,0,32,32" ViewportUnits="Absolute">
                            <DrawingBrush.Drawing>
                                <GeometryDrawing Geometry="M0,0 H1 V1 H2 V2 H1 V1 H0Z" Brush="LightGray"/>
                            </DrawingBrush.Drawing>
                        </DrawingBrush>
                    </Rectangle.Fill>
                </Rectangle>
                <Image Name="Texture" Source="Images/plus.png" RenderOptions.BitmapScalingMode="NearestNeighbor"/>
            </Grid>
            <ScrollViewer VerticalScrollBarVisibility="Auto" Grid.Row="1" Grid.Column="0">
                <Grid Grid.Row="1">
                    <Grid.ContextMenu>
                        <ContextMenu>
                            <MenuItem Header="Open Folder"
                                      Click="OpenFolder3_Click" />
                            <MenuItem Header="Replace"
                                      Click="Replace3_Click" />
                            <MenuItem Header="Pack"
                                      Click="Pack3_Click" />
                            <MenuItem Header="Queue/Unqueue Pack" Name="flag3"
                                      Click="Flag3" Visibility="Collapsed"/>
                            <MenuItem Header="Pack Queued" Name="pckall3"
                                      Click="PackAll_Click" Visibility="Visible"/>
                        </ContextMenu>
                    </Grid.ContextMenu>
                    <StackPanel x:Name="Files3" VerticalAlignment="Top">
                        <!-- TextBox controls will be added here dynamically -->
                    </StackPanel>
                </Grid>
            </ScrollViewer>
        </Grid>
    </Grid>
</Window>
